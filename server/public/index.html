<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. House AI Assistant</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<!-- Slide 1: Home/Introduction -->
<section class="slide" id="slideHome">
    <div class="home">
        <div class="logo"><img src="assets/logo.png" alt="Logo"></div>
        <h1>Le Basi dell'Intelligenza Artificiale</h1>
        <h2>Un Esempio con Dr.House</h2>
    </div>
</section>

<!-- Slide 2: Basic Prompt -->
<section class="slide" id="slideBasicPrompt" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">IL PROMPT BASE<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Cos'è un prompt?</h2>
                <p class="section-text">Un prompt è una richiesta in linguaggio naturale inviata a un modello linguistico per ricevere una risposta</p>
                <p class="section-text">L’interazione è semplice: l’utente riceve una risposta generica.</p>
                <p class="section-text">L’AI risponde esclusivamente in base al prompt ricevuto, senza personalizzazione o altre informazioni di contesto.</p>
            </div>

            <div class="interaction-box">
                <span class="user-label">Utente: </span>
                <div class="input-box" id="promptBaseInput" contenteditable="true">Paziente con febbre alta, tosse persistente e dolori articolari. Quali sono le possibili diagnosi?</div>
                <button class="submit-button" onclick="processPrompt()">Invia</button>

                <span class="user-label">Dr. House AI: </span>
                <div class="output-box" id="promptBaseOutput">Le risposte del Dr. House appariranno qui.</div>
            </div>
        </div>

        <div class="right-section">
            <div class="image-content">
                <div class="image-overlay">
                    <img src="assets/img_slide2.png" alt="Prompt Base Concept">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Slide 3: Personality & Character -->
<section class="slide" id="slidePersonality" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">AGGIUNGERE TONO E CARATTERISTICHE<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Dare Personalità all'AI</h2>

                <h3 class="sub-section-title">Cos'è il tono?</h3>
                <p class="section-text">Lo stile comunicativo che caratterizza le risposte dell'AI</p>

                <h3 class="sub-section-title">Caratteristiche:</h3>
                <p class="section-text">Attributi specifici che definiscono il comportamento dell'AI</p>

                <ul class="feature-list">
                    <li>Ora l'AI ha la personalità sarcastica e brillante del Dr. House</li>
                    <li>Risponde ancora solo alla domanda, senza contesto</li>
                </ul>
            </div>
        </div>

        <div class="right-section">
            <div class="code-container">
                <div class="code-box">
                    <div class="instructions-content">
                        <div class="instructions-header">&lt;istruzioni&gt;</div>
                        <ul class="instructions-list">
                            <li>Rispondi come il Dr. Gregory House</li>
                            <li>Usa un tono sarcastico e cinico</li>
                            <li>Mostra brillantezza diagnostica</li>
                            <li>Fai riferimenti alla Vicodin o al dolore alla gamba</li>
                            <li>Sii diretto e brutalmente onesto</li>
                        </ul>
                        <div class="instructions-footer">&lt;/istruzioni&gt;</div>
                    </div>
                </div>
            </div>

            <div class="interaction-box wide-box">
                <span class="user-label">Utente: </span>
                <div class="input-box" contenteditable="true">Paziente con febbre alta, tosse persistente e dolori articolari. Quali sono le possibili diagnosi?</div>
                <button class="submit-button" onclick="processPrompt()">Invia</button>
                <span class="user-label">Dr. House AI: </span>
                <div class="output-box">Le risposte del Dr. House con personalità appariranno qui.</div>
            </div>
        </div>
    </div>
</section>

<!-- Slide 4: Vector Database -->
<section class="slide" id="slideVectorDB" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">DATABASE VETTORIALI<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">La Base della Memoria Medica</h2>

                <h3 class="sub-section-title">Cos'è un database vettoriale?</h3>
                <p class="section-text">Un sistema che memorizza farmaci come vettori matematici basati sulle loro proprietà terapeutiche</p>

                <h3 class="sub-section-title">Come funziona:</h3>
                <ol class="feature-list">
                    <li>I farmaci vengono convertiti in vettori numerici (<span style="text-decoration: underline;">embedding</span>)</li>
                    <li>Ogni medicinale è rappresentato come un punto in uno spazio multidimensionale</li>
                    <li>Farmaci con effetti simili si trovano vicini in questo spazio</li>
                </ol>
            </div>
        </div>

        <div class="right-section">
            <div class="vector-plot-container">
                <div class="vector-title">Similarità tra Farmaci</div>

                <div class="vector-y-axis">
                    Effetto Antiinfiammatorio →
                </div>

                <div class="vector-plot">
                    <div class="vector-x-axis">Effetto Antidolorifico →</div>
                    <div class="grid-line horizontal"></div>
                    <div class="grid-line vertical"></div>

                    <!-- Medicine dots -->
                    <div class="medicine-point ibuprofen" style="top: 25%; left: 62%;">
                        <div class="med-dot ibuprofen-color"></div>
                        <div class="med-label">Ibuprofene [0.6, 0.9]</div>
                    </div>

                    <div class="medicine-point paracetamol" style="top: 45%; left: 71%;">
                        <div class="med-dot paracetamol-color"></div>
                        <div class="med-label">Paracetamolo [0.7, 0.2]</div>
                    </div>

                    <div class="medicine-point diazepam" style="top: 80%; left: 22%;">
                        <div class="med-dot diazepam-color"></div>
                        <div class="med-label">Diazepam [0.2, 0.1]</div>
                    </div>
                </div>

                <div class="similarity-data">
                    <div class="similarity-title">Similarità (Coseno):</div>
                    <div class="similarity-values">
                        <div class="sim-item">
                            Paracetamolo → Ibuprofene: <span class="sim-value">0.77</span>
                        </div>
                        <div class="sim-item">
                            Paracetamolo → Diazepam: <span class="sim-value">0.28</span>
                        </div>
                        <div class="sim-item">
                            Ibuprofene → Diazepam: <span class="sim-value">0.24</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Slide 5: RAG (Retrieval-Augmented Generation) -->
<section class="slide" id="slideRAG" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">Aggiungere Memoria con RAG<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Retrieval Augmented Generation</h2>

                <h3 class="sub-section-title">Cos'è la RAG?</h3>
                <p class="section-text">La RAG è un modello che unisce le capacità generative dei LLM con le capacità di reperire informazioni da una fonte di conoscenza esterna.</p>

                <h3 class="sub-section-title">Come funziona:</h3>
                <ol class="feature-list">
                    <li>I sintomi forniti dal paziente vengono trasformati in un vettore semantico</li>
                    <li>Il sistema effettua una ricerca di casi clinici simili in un database vettoriale</li>
                    <li>Consulta lo storico delle conversazioni precedenti con il paziente</li>
                    <li>L'IA elabora una risposta integrando le informazioni recuperate e il contesto attuale</li>
                </ol>
            </div>
        </div>

        <div class="right-section">
            <div class="rag-system-container">
                <div class="rag-diagram">
                    <!-- Query Box -->
                    <div class="rag-query-box">
                        <div class="rag-box-title">Query Utente</div>
                    </div>

                    <!-- Arrow Down -->
                    <div class="rag-arrow-down"></div>

                    <!-- RAG Process Area -->
                    <div class="rag-process-area">
                        <div class="rag-literature-box">
                            <div class="rag-box-title">Letteratura Medica</div>
                            <br>
                            <div class="rag-box-title">Storico chat</div>
                            <div class="rag-horizontal-line rag-line-right"></div>
                        </div>

                        <div class="rag-circle">RAG</div>

                        <div class="rag-diagnosis-box">
                            <div class="rag-horizontal-line rag-line-left"></div>
                            <div class="rag-box-title">Diagnosi</div>
                        </div>
                    </div>

                    <!-- Database Section -->
                    <div class="rag-database-section">
                        <div class="rag-database-title">Database:</div>
                        <div class="rag-database-content">[Casi clinici rari, Studi su avvelenamenti, Articoli su malattie tropicali, Letteratura su malattie autoimmuni...]</div>
                    </div>

                    <div class="interaction-box wide-box">
                        <span class="user-label">Utente: </span>
                        <div class="input-box" contenteditable="true">Paziente con febbre alta, tosse persistente e dolori articolari. Quali sono le possibili diagnosi?</div>
                        <button class="submit-button" onclick="processPrompt()">Invia</button>
                        <span class="user-label">Dr. House AI: </span>
                        <div class="output-box">Le risposte del Dr. House con RAG appariranno qui.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Slide 6: The Complete AI System -->
<section class="slide" id="slideCompleteAI" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">L'AI COMPLETA<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Integrare Tutti gli Elementi</h2>

                <h3 class="sub-section-title">Sistema Dr. House Completo:</h3>
                <ul class="feature-list">
                    <li><strong>Prompt Base:</strong> Gestisce l'interazione diagnostica fondamentale</li>
                    <li><strong>Tono e Caratteristiche:</strong> Comunica con il sarcasmo di House</li>
                    <li><strong>Database Vettoriale:</strong> Contiene vasta letteratura medica e casi rari</li>
                    <li><strong>Sistema RAG:</strong> Recupera casi clinici simili e ricerca medica</li>
                    <li><strong>Memoria Conversazionale:</strong> Ricorda gli sviluppi del caso in corso</li>
                </ul>
            </div>
        </div>

        <div class="right-section">
            <div class="ai-complete-container">
                <div class="ai-diagram">
                    <!-- Centered image with tighter spacing -->
                    <img src="assets/rag_image.png" alt="Dr. House AI System Diagram" style="max-width: 85%; margin-bottom: 15px; display: block; margin-left: auto; margin-right: auto;">

                    <!-- Example Context Box -->
                    <div class="context-box">
                        <div class="context-user">Schema del sistema RAG per diagnosi mediche: la risposta dell'IA è generata integrando la query del paziente, la memoria storica delle chat, una base di conoscenza medica e la personalità del Dr. House.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Slide 7: Speech Interface -->
<section class="slide" id="slideSpeech" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">INTERFACCIA VOCALE<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Dr. House che parla</h2>

                <h3 class="sub-section-title">Text-to-Speech (TTS):</h3>
                <p class="section-text">Trasforma il testo generato dall'IA in parlato con la voce di Dr. House</p>

                <h3 class="sub-section-title">Speech-to-Text (STT):</h3>
                <p class="section-text">Converte la voce dell'utente in testo per interagire con l'IA</p>

                <h3 class="sub-section-title">Componenti:</h3>
                <ul class="feature-list">
                    <li><strong>Riconoscimento vocale:</strong> Utilizza le API Web Speech per ascoltare l'utente</li>
                    <li><strong>Sintesi vocale:</strong> Usa l'AI per generare risposte audio con la voce di House</li>
                    <li><strong>Elaborazione con RAG:</strong> Mantiene tutte le funzionalità della versione testuale</li>
                </ul>
            </div>
        </div>

        <div class="right-section">
            <div class="chat-container" id="speechChatContainer" style="background-color: #051B2B; border: 1px solid #FF5733; border-radius: 10px; padding: 20px; height: 60%; overflow-y: auto; margin-bottom: 20px;">
                <!-- Chat messages will be added here dynamically -->
                <div class="message house-message">
                    Sono il Dottor House. Dimmi cosa ti affligge, e cercherò di non annoiarmi troppo.
                    <span class="audio-control" onclick="playSpeechAudio(this.parentElement.textContent)">🔊</span>
                </div>
            </div>

            <div class="status" id="speechStatus" style="color: #7f7f7f; margin: 10px 0; font-style: italic;">Ready</div>

            <div class="controls" style="display: flex; justify-content: space-evenly; margin-top: 20px; width: 100%">
                <button id="startSpeechButton" class="submit-button">Inizia a Parlare</button>
                <button id="stopSpeechButton" class="submit-button" disabled>Stop</button>
                <button id="clearSpeechButton" class="submit-button">Cancella Chat</button>
            </div>
        </div>
    </div>
</section>
<!-- Updated Last Slide with Quote and Credits -->
<section class="slide" id="slideLast" style="display: none;">
    <div class="content">
        <div class="left-section">
            <h1 class="page-title">IL DR. GREGORY HOUSE<span class="title-icon"> /</span></h1>

            <div class="content-section">
                <h2 class="section-title">Genio Diagnostico Anticonvenzionale</h2>

                <div class="quote-container">
                    <div class="quotation-mark">
                        <img src="assets/quote_img.png" alt="Quotation Mark" class="quote-icon">
                    </div>
                    <div class="house-quotes">
                        <p class="quote-text">Quasi tutti mentono.</p>
                        <p class="quote-text">La verità conta, la risposta conta.</p>
                        <p class="quote-text">Se nessun altro può trovarla, è compito mio.</p>
                        <p class="quote-text">La verità mi interessa molto di più di quello che pensano gli altri di me.</p>
                    </div>
                </div>
            </div>

            <div class="credits">
                Credits
                <br>
                - House M.D, TV Series 2004-2012
                <br>
                - Tecnologie RAG: Paper "Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks" (Lewis et al., 2020)
                <br>
                - Database vettoriali: Redis Vector Database, documentazione tecnica
                <br>
                - Prompt Engineering: "Building Systems with the ChatGPT API" (OpenAI, 2023)
                <br>
                - Text-to-Speech: Documentazione ElevenLabs API
            </div>
        </div>

        <div class="right-section">
            <!-- This will contain the image of Dr. House -->
            <!-- The background image is applied via CSS to the entire slide -->
        </div>
    </div>
</section>


<!-- Navigation Controls -->
<!--<div class="navigation">-->
<!--    <button id="home-button" class="nav-button" onclick="goToSlide(1)" style="display: none;">Home</button>-->
<!--    <button id="prev-button" class="nav-button" onclick="prevSlide()" style="display: none;">Indietro</button>-->
<!--    <button id="next-button" class="nav-button" onclick="nextSlide()">Avanti</button>-->
<!--</div>-->

<script src="script.js"></script>
</body>
</html>